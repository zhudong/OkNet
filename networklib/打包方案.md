# 打包方案选择

## 方案1：强制传递依赖的AAR（推荐）

### 修改build.gradle
```gradle
dependencies {
    // 改为api强制传递依赖
    api 'com.lzy.net:okgo:3.0.4'
    api 'com.lzy.net:okserver:2.0.5'
    api 'com.google.code.gson:gson:2.8.1'
    api 'androidx.appcompat:appcompat:1.6.1'
}
```

### 使用方式
```gradle
dependencies {
    // 只需要添加AAR，依赖会自动传递
    implementation files('libs/networklib-release.aar')
}
```

### 优点
- 使用简单，只需要添加AAR
- 依赖版本由library控制

### 缺点
- 可能导致版本冲突
- 不够灵活

## 方案2：包含依赖的Fat JAR

### 构建命令
```bash
gradlew :networklib:fatJar
```

### 使用方式
```gradle
dependencies {
    // 添加包含所有依赖的JAR
    implementation files('libs/networklib-fat-1.0.0-all.jar')
}
```

### 优点
- JAR包含所有依赖，无需额外配置
- 可以用于非Android项目

### 缺点
- JAR文件很大
- Android项目通常使用AAR
- 可能有兼容性问题

## 方案3：提供完整的依赖包（推荐）

### 提供文件
- `networklib-release.aar`
- `networklib-dependencies.jar` (包含所有依赖的JAR)

### 使用方式
```gradle
dependencies {
    // 添加AAR
    implementation files('libs/networklib-release.aar')
    // 添加依赖包
    implementation files('libs/networklib-dependencies.jar')
}
```

### 优点
- 平衡了大小和易用性
- 避免版本冲突
- 清晰的依赖管理

### 缺点
- 需要提供两个文件

## 方案4：使用Maven仓库（企业级）

### 发布到Maven仓库
```gradle
// 在networklib/build.gradle中添加
apply plugin: 'maven-publish'

publishing {
    publications {
        maven(MavenPublication) {
            groupId = 'com.fyb'
            artifactId = 'networklib'
            version = android.defaultConfig.versionName

            artifact "${project.buildDir}/outputs/aar/${project.name}-release.aar"

            pom.withXml {
                def dependenciesNode = asNode().appendNode('dependencies')

                // 添加依赖声明
                def dependencyNode = dependenciesNode.appendNode('dependency')
                dependencyNode.appendNode('groupId', 'com.lzy.net')
                dependencyNode.appendNode('artifactId', 'okgo')
                dependencyNode.appendNode('version', '3.0.4')
                // ... 其他依赖
            }
        }
    }
}
```

### 使用方式
```gradle
repositories {
    maven {
        url 'your-maven-repo-url'
    }
}

dependencies {
    implementation 'com.fyb:networklib:1.0.0'
}
```

### 优点
- 企业级解决方案
- 自动依赖管理
- 版本控制

### 缺点
- 需要Maven仓库
- 配置复杂

## 推荐方案

对于你的需求，**推荐方案1**：修改为`api`依赖，让AAR自动传递依赖。

这样使用起来最简单：
```gradle
dependencies {
    implementation files('libs/networklib-release.aar')
    // 无需添加其他依赖，自动传递
}
```

如果担心版本冲突，可以使用**方案3**：提供完整的依赖包。
